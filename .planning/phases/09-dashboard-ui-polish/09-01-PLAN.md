---
phase: 09-dashboard-ui-polish
plan: 01
type: execute
---

<objective>
Set up theme system with light/dark mode toggle and polish the dashboard layout.

Purpose: Establish the theme infrastructure and visual foundation that all dashboard pages share.
Output: Working theme toggle, Proximab-inspired dark mode CSS variables, polished header/nav/user-menu.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-dashboard-ui-polish/09-CONTEXT.md

**Phase context (from /gsd:discuss-phase):**
- Vision: Professional polish with light/dark mode toggle
- Essential: Theme toggle works everywhere, Proximab dark aesthetic
- Dark mode: Near-black backgrounds (#06040d, #0c0512), purple/blue accents (#983ad6, #681ee0)
- Glassmorphism: Subtle transparency and blur on cards in dark mode

**Current files:**
@src/app/layout.tsx
@src/app/globals.css
@src/components/theme-provider.tsx
@src/app/(dashboard)/dashboard/layout.tsx
@src/components/dashboard/nav-tabs.tsx
@src/components/dashboard/user-menu.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Integrate theme system and define dark mode variables</name>
  <files>src/app/layout.tsx, src/app/globals.css, src/components/theme-provider.tsx</files>
  <action>
    1. Update root layout.tsx:
       - Import and wrap children with ThemeProvider
       - Add suppressHydrationWarning to html tag (required by next-themes)

    2. Update globals.css with CSS custom properties for theming:
       - Light mode (default): Clean whites and grays (current style)
       - Dark mode: Proximab-inspired palette
         - --background: #06040d (near-black)
         - --background-secondary: #0c0512 (slightly lighter)
         - --foreground: #f8fafc (light text)
         - --muted: #1a1425 (muted backgrounds)
         - --border: #2d1f3d (subtle purple-tinted borders)
         - --accent: #983ad6 (primary purple)
         - --accent-secondary: #681ee0 (secondary purple)
         - --card: rgba(15, 10, 25, 0.8) (glassmorphism base)

    3. Add dark mode utility classes in globals.css:
       - .glass-card for glassmorphism effect (backdrop-blur, subtle border)
       - Smooth color transitions for theme switching

    4. Update ThemeProvider to remove disableTransitionOnChange (we want smooth transitions)
  </action>
  <verify>npm run build passes, theme variables defined in CSS</verify>
  <done>Theme system integrated, dark mode CSS variables defined with Proximab palette</done>
</task>

<task type="auto">
  <name>Task 2: Add theme toggle and polish header/nav</name>
  <files>src/components/dashboard/theme-toggle.tsx, src/components/dashboard/user-menu.tsx, src/app/(dashboard)/dashboard/layout.tsx, src/components/dashboard/nav-tabs.tsx</files>
  <action>
    1. Create theme-toggle.tsx component:
       - Use useTheme from next-themes
       - Sun/Moon icons from lucide-react
       - Button with smooth icon transition
       - Cycle between light/dark (skip system for simplicity)

    2. Update user-menu.tsx:
       - Add theme toggle button next to user menu
       - Polish dropdown menu styling with dark mode support
       - Add dark: variants for all colors

    3. Update dashboard layout.tsx:
       - Apply theme-aware background (bg-gray-50 dark:bg-[var(--background)])
       - Header: bg-white dark:bg-[var(--background-secondary)] with border
       - Add subtle shadow, polish logo area
       - Import and place ThemeToggle in header

    4. Update nav-tabs.tsx:
       - Add icons to tabs (LayoutDashboard, Bot, Phone, CreditCard, Settings)
       - Dark mode variants for active/hover states
       - Smooth transitions on hover
  </action>
  <verify>npm run build passes, toggle theme at localhost:3000/dashboard</verify>
  <done>Theme toggle works, header/nav polished with dark mode support</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Theme system with light/dark toggle, polished header and navigation with Proximab-inspired dark mode</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/dashboard
    3. Find theme toggle in header area
    4. Click toggle: Should switch between light and dark mode
    5. Light mode: Clean white/gray aesthetic
    6. Dark mode: Near-black background with purple tints
    7. Check nav tabs: Icons visible, active state clear
    8. Check user menu dropdown: Works in both themes
    9. Refresh page: Theme preference persisted
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] No TypeScript errors
- [ ] Theme toggle switches between light and dark mode
- [ ] Dark mode uses Proximab color palette
- [ ] Theme preference persists across page refresh
- [ ] Header and nav look polished in both themes
</verification>

<success_criteria>
- ThemeProvider integrated into root layout
- Theme toggle visible and functional in header
- Dark mode CSS variables defined with Proximab palette
- Navigation tabs have icons and clear active states
- Smooth transitions when switching themes
</success_criteria>

<output>
After completion, create `.planning/phases/09-dashboard-ui-polish/09-01-SUMMARY.md`
</output>
