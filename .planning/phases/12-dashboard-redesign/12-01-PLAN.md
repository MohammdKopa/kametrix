---
phase: 12-dashboard-redesign
plan: 01
type: execute
---

<objective>
Redesign the dashboard layout shell with glassmorphic header, premium navigation tabs, and shadcn/ui-based user menu.

Purpose: Establish the visual foundation for the entire dashboard using the Proximab-inspired theme from Phase 11.
Output: Polished header, navigation, and user dropdown that set the premium dark theme tone.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-dashboard-redesign/12-CONTEXT.md
@.planning/phases/11-shadcn-ui-setup/11-01-SUMMARY.md
@.planning/phases/11-shadcn-ui-setup/11-02-SUMMARY.md

**Phase 11 Foundation:**
- shadcn/ui installed with new-york style
- OKLCH colors configured (hue 285-305 purple/pink)
- Poppins headings + Inter body typography
- Core components: Button, Card, Input, Label, Separator, Dialog, DropdownMenu

**Key files:**
@src/app/(dashboard)/dashboard/layout.tsx
@src/app/(dashboard)/admin/layout.tsx
@src/components/dashboard/nav-tabs.tsx
@src/components/dashboard/user-menu.tsx
@src/components/admin/admin-nav-tabs.tsx
@src/app/globals.css

**Prior decisions:**
- OKLCH colors (not HSL) for Tailwind v4 native support
- defaultTheme="dark" prevents light flash
- Removed old glass-card class in Phase 11 (to be rebuilt with proper glassmorphism)

**Design targets (from 12-CONTEXT.md):**
- Glassmorphic header with blur effects and subtle borders
- Purple/pink gradient accents on #06040d dark background
- Radial glow effects for atmosphere
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add glassmorphism utility classes to globals.css</name>
  <files>src/app/globals.css</files>
  <action>
Add glassmorphism utility classes in @layer components:

1. `.glass` - Base glassmorphic effect:
   - background: oklch(0.12 0.04 285 / 0.6) for dark mode
   - backdrop-filter: blur(12px)
   - border: 1px solid oklch(0.25 0.05 285 / 0.5)

2. `.glass-card` - Card variant with hover glow:
   - Extends .glass base
   - rounded-xl
   - shadow-lg with purple glow on hover: 0 0 30px oklch(0.55 0.25 300 / 0.15)
   - transition for hover effects

3. `.glow-accent` - Radial glow background effect:
   - radial-gradient for purple/pink atmospheric glow
   - position: absolute, inset-0, pointer-events-none
   - Use with parent relative container

Keep both light and dark mode variants. Light mode should use subtle gray glass effects.
  </action>
  <verify>npm run build succeeds, classes available in Tailwind</verify>
  <done>Glass utility classes added, both light and dark variants work</done>
</task>

<task type="auto">
  <name>Task 2: Redesign dashboard layout with glassmorphic header</name>
  <files>src/app/(dashboard)/dashboard/layout.tsx, src/app/(dashboard)/admin/layout.tsx</files>
  <action>
Update both dashboard layouts with premium dark theme styling:

**User dashboard (dashboard/layout.tsx):**
1. Background: Use bg-background (maps to OKLCH dark)
2. Header: Apply glass class with backdrop blur
   - Add subtle bottom border glow using gradient
   - Logo icon: Use gradient background (from-primary to-accent)
   - Keep Activity icon, style with text-primary-foreground
3. Navigation container: Glass effect, seamless with header
4. Main content area: Keep max-w-7xl constraint

**Admin dashboard (admin/layout.tsx):**
1. Add dark mode support (currently missing)
2. Apply same glass header pattern as user dashboard
3. Update Admin badge: Use bg-primary/20 text-primary for dark mode
4. Add ThemeToggle component (missing from admin layout)

Both layouts should feel cohesive and premium. Use CSS variables from globals.css (--primary, --accent, etc.) not hardcoded colors.
  </action>
  <verify>npm run dev - both dashboards render with glassmorphic headers, no layout shift</verify>
  <done>Both layouts updated with glass headers, dark mode works on admin, consistent styling</done>
</task>

<task type="auto">
  <name>Task 3: Rebuild nav-tabs and user-menu with shadcn/ui</name>
  <files>src/components/dashboard/nav-tabs.tsx, src/components/dashboard/user-menu.tsx, src/components/admin/admin-nav-tabs.tsx</files>
  <action>
**nav-tabs.tsx:**
1. Use shadcn/ui Button with variant="ghost" for tab items
2. Active state: Use bg-primary/10 and text-primary with left border accent
3. Hover: Subtle glow effect using shadow-sm with accent color
4. Keep icon + text layout, use gap-2
5. Active indicator: Replace bottom bar with left gradient border or glow

**user-menu.tsx:**
1. Replace custom dropdown with shadcn/ui DropdownMenu component
2. Trigger: DropdownMenuTrigger with Button variant="ghost"
3. Keep avatar with gradient background (from-primary to-accent)
4. Content: DropdownMenuContent with glass effect
5. Items: DropdownMenuItem for sign out
6. Add DropdownMenuLabel for user info section
7. Add DropdownMenuSeparator between sections
8. Remove manual click-outside handling (Radix handles this)

**admin-nav-tabs.tsx:**
1. Apply same styling pattern as nav-tabs.tsx
2. Add dark mode support (currently missing)
3. Use consistent hover/active states

Import pattern: import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger } from "@/components/ui/dropdown-menu"
  </action>
  <verify>npm run dev - navigate between tabs, open user menu dropdown, verify animations work</verify>
  <done>Nav tabs use Button component, user menu uses DropdownMenu, smooth transitions</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] User dashboard header has glassmorphic styling
- [ ] Admin dashboard has dark mode support
- [ ] Navigation tabs have premium hover/active states
- [ ] User menu dropdown uses shadcn/ui DropdownMenu
- [ ] No TypeScript errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Layout feels premium and cohesive
- Glass effects work in both light and dark modes
- Admin and user dashboards share consistent visual language
</success_criteria>

<output>
After completion, create `.planning/phases/12-dashboard-redesign/12-01-SUMMARY.md`
</output>
