---
phase: 13-landing-redesign
plan: 02
type: execute
---

<objective>
Add staggered reveal animations to Features and HowItWorks sections.

Purpose: Create the "page unfolds like a story" effect as visitors scroll - sections fade and slide in.
Output: Features cards animate in with stagger, HowItWorks steps animate in with stagger, full landing page verified.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-landing-redesign/13-RESEARCH.md
@.planning/phases/13-landing-redesign/13-CONTEXT.md
@.planning/phases/13-landing-redesign/13-01-SUMMARY.md

**Key constraints from research:**
- Use `whileInView` with `viewport={{ once: true }}` - prevents replay on scroll back
- Use variants pattern for staggered children
- Keep Y offsets to 20-40px max
- Keep durations 0.4-0.7s
- Animate parent containers, not individual text elements

**User vision:**
- Sections reveal and transform as you scroll
- Experience should feel curated and intentional
- Glassmorphic feature cards (already have blur effect in Features.tsx)

**Existing patterns:**
@src/components/marketing/Features.tsx
@src/components/marketing/HowItWorks.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add staggered card reveals to Features</name>
  <files>src/components/marketing/Features.tsx</files>
  <action>
    Convert Features.tsx to use Motion for staggered card reveals:

    1. Add `"use client"` directive
    2. Import `motion` from `motion/react`
    3. Create variants for container and items:
       ```tsx
       const containerVariants = {
         hidden: { opacity: 0 },
         visible: {
           opacity: 1,
           transition: {
             staggerChildren: 0.1,
             delayChildren: 0.2,
           },
         },
       };

       const itemVariants = {
         hidden: { opacity: 0, y: 30 },
         visible: {
           opacity: 1,
           y: 0,
           transition: { duration: 0.5, ease: "easeOut" }
         },
       };
       ```
    4. Add section header reveal:
       - Wrap header in `motion.div` with `whileInView`
       - `initial={{ opacity: 0, y: 20 }}`
       - `whileInView={{ opacity: 1, y: 0 }}`
       - `viewport={{ once: true, margin: "-100px" }}`
    5. Convert features grid to `motion.div` with container variants:
       - `variants={containerVariants}`
       - `initial="hidden"`
       - `whileInView="visible"`
       - `viewport={{ once: true }}`
    6. Convert each feature card div to `motion.div` with item variants:
       - `variants={itemVariants}` (no initial/animate needed - inherits from parent)

    **What to avoid:**
    - Don't animate individual text/icons inside cards
    - Don't use `once: false` (causes replay issues)
    - Don't use large Y offsets (30px max for cards)
  </action>
  <verify>
    - `npm run build` succeeds
    - `npm run dev` - scroll to Features section
    - Cards should fade/slide in with stagger effect
    - Animations should NOT replay when scrolling back up
  </verify>
  <done>
    Features section header fades in on scroll.
    Feature cards animate in with staggered delay.
    Animations trigger once and don't replay.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add staggered step reveals to HowItWorks</name>
  <files>src/components/marketing/HowItWorks.tsx</files>
  <action>
    Convert HowItWorks.tsx to use Motion for staggered step reveals:

    1. Add `"use client"` directive
    2. Import `motion` from `motion/react`
    3. Create variants for container and items (same pattern as Features):
       ```tsx
       const containerVariants = {
         hidden: { opacity: 0 },
         visible: {
           opacity: 1,
           transition: {
             staggerChildren: 0.15,
             delayChildren: 0.2,
           },
         },
       };

       const stepVariants = {
         hidden: { opacity: 0, y: 30 },
         visible: {
           opacity: 1,
           y: 0,
           transition: { duration: 0.5, ease: "easeOut" }
         },
       };
       ```
    4. Add section header reveal (same pattern as Features)
    5. Convert steps container to `motion.div` with variants
    6. Convert each step div to `motion.div` with stepVariants
    7. Add entrance animation to the CTA section at bottom:
       - Wrap CTA in `motion.div`
       - `initial={{ opacity: 0, y: 20 }}`
       - `whileInView={{ opacity: 1, y: 0 }}`
       - `viewport={{ once: true }}`
       - `transition={{ duration: 0.5, delay: 0.3 }}`

    **What to avoid:**
    - Don't animate the connector line (keep it static)
    - Don't animate the mobile arrows
    - Keep step stagger at 0.15s (slightly slower than features for variety)
  </action>
  <verify>
    - `npm run build` succeeds
    - `npm run dev` - scroll to HowItWorks section
    - Steps should fade/slide in with stagger effect
    - CTA section at bottom should fade in after steps
  </verify>
  <done>
    HowItWorks section header fades in on scroll.
    Steps animate in with staggered delay.
    CTA section animates in after steps.
    Animations trigger once and don't replay.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete landing page with scroll animations: Hero glow, Features cards, HowItWorks steps</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit: http://localhost:3000
    3. Hero section:
       - Radial glow visible behind headline
       - Scroll down slowly - glow should fade and shrink
       - Content has subtle entrance animation
    4. Features section (scroll down):
       - Section header fades in
       - Cards stagger in from left to right (top row first)
       - Each card has slight slide-up effect
    5. HowItWorks section (scroll down):
       - Section header fades in
       - Steps stagger in (01, then 02, then 03)
       - CTA box at bottom fades in last
    6. Scroll back up:
       - Animations should NOT replay
       - No layout shift or jankiness
    7. Check console:
       - No errors or hydration warnings
  </how-to-verify>
  <resume-signal>Type "approved" to complete phase, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] All three sections have scroll animations
- [ ] Animations use `once: true` (no replay)
- [ ] No layout shift during animations
- [ ] No console errors or hydration warnings
- [ ] Premium feel achieved - page "unfolds like a story"
</verification>

<success_criteria>
- Features section: Header + cards animate with stagger
- HowItWorks section: Header + steps + CTA animate with stagger
- All animations use `viewport={{ once: true }}`
- Smooth 60fps scroll performance
- User approves visual verification
- Phase 13 complete - v1.2 milestone finished
</success_criteria>

<output>
After completion, create `.planning/phases/13-landing-redesign/13-02-SUMMARY.md`:

# Phase 13 Plan 02: Section Animations & Polish Summary

**[Substantive one-liner - e.g., "Landing page now has premium scroll reveal animations"]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `src/components/marketing/Features.tsx` - Staggered card reveals
- `src/components/marketing/HowItWorks.tsx` - Staggered step reveals

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 13 complete. v1.2 milestone (shadcn/ui & Premium Dark Theme) shipped.
</output>
