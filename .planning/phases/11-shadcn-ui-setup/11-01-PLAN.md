---
phase: 11-shadcn-ui-setup
plan: 01
type: execute
domain: shadcn-ui
---

<objective>
Install shadcn/ui and configure Proximab-inspired dark theme foundation.

Purpose: Establish the component library and theme system that all UI work in Phases 12-13 will build upon.
Output: shadcn/ui initialized with Tailwind v4, Proximab OKLCH colors configured, ThemeProvider ready.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-shadcn-ui-setup/11-CONTEXT.md
@.planning/phases/11-shadcn-ui-setup/11-RESEARCH.md

**Prior decisions affecting this phase:**
- Phase 1: Tailwind CSS v4 with CSS-first config (no tailwind.config.js)
- Phase 9: Dark theme exists in globals.css (will be replaced entirely)

**Research findings to apply:**
- Use OKLCH colors (not HSL) for Tailwind v4 compatibility
- Use tw-animate-css (not tailwindcss-animate) for v4
- Use @theme inline directive to map CSS variables to Tailwind utilities
- Set defaultTheme="dark" in ThemeProvider to prevent light flash

**Proximab color palette (from RESEARCH.md):**
- Background: #06040d (deep dark purple-black)
- Background secondary: #0c0512
- Card: #241c36 (subtle purple tint)
- Primary: #983ad6 (vibrant purple)
- Accent: #681ee0 (deep purple)
- Highlight: #e496ff (pink)
- Border: #2d1f3d (muted purple)

**Relevant source files:**
@src/app/globals.css
@src/app/layout.tsx
@src/components/ThemeToggle.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize shadcn/ui and install dependencies</name>
  <files>package.json, components.json, src/lib/utils.ts</files>
  <action>
1. Run `npx shadcn@latest init` with these options:
   - Style: new-york (shadcn v4 default)
   - Base color: neutral (we'll customize)
   - CSS variables: yes
   - Tailwind CSS: already configured (v4)
   - Components location: src/components
   - Utils location: src/lib/utils

2. If shadcn init doesn't install these, install manually:
   ```bash
   npm install tw-animate-css clsx tailwind-merge class-variance-authority
   ```

3. Verify src/lib/utils.ts contains the cn() helper:
   ```typescript
   import { clsx, type ClassValue } from "clsx"
   import { twMerge } from "tailwind-merge"

   export function cn(...inputs: ClassValue[]) {
     return twMerge(clsx(inputs))
   }
   ```

**What to avoid:**
- Do NOT install tailwindcss-animate (deprecated in v4, use tw-animate-css)
- Do NOT create tailwind.config.js (project uses CSS-first Tailwind v4)
  </action>
  <verify>
- components.json exists with correct paths
- src/lib/utils.ts exists with cn() function
- package.json contains: clsx, tailwind-merge, class-variance-authority, tw-animate-css
- npm run build succeeds
  </verify>
  <done>
- shadcn/ui initialized
- All utility packages installed
- cn() helper available
- Build passes
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Proximab dark theme in globals.css</name>
  <files>src/app/globals.css</files>
  <action>
Replace the entire globals.css with shadcn/ui v4 structure featuring Proximab colors.

**Structure:**
1. @import "tailwindcss" and @import "tw-animate-css"
2. @custom-variant dark (&:is(.dark *))
3. :root with light theme defaults (white background for completeness)
4. .dark with Proximab-inspired OKLCH colors
5. @theme inline mapping all CSS variables to Tailwind color utilities
6. @layer base with border and body defaults

**Proximab OKLCH colors for .dark:**
```css
.dark {
  --radius: 0.75rem;
  --background: oklch(0.08 0.03 285);
  --foreground: oklch(0.98 0.01 285);
  --card: oklch(0.12 0.04 285);
  --card-foreground: oklch(0.98 0.01 285);
  --popover: oklch(0.1 0.04 285);
  --popover-foreground: oklch(0.98 0.01 285);
  --primary: oklch(0.55 0.25 300);
  --primary-foreground: oklch(0.98 0.01 285);
  --secondary: oklch(0.18 0.05 285);
  --secondary-foreground: oklch(0.98 0.01 285);
  --muted: oklch(0.15 0.04 285);
  --muted-foreground: oklch(0.65 0.02 285);
  --accent: oklch(0.45 0.3 305);
  --accent-foreground: oklch(0.98 0.01 285);
  --destructive: oklch(0.55 0.2 25);
  --destructive-foreground: oklch(0.98 0.01 285);
  --border: oklch(0.25 0.05 285);
  --input: oklch(0.2 0.04 285);
  --ring: oklch(0.55 0.25 300);
  --chart-1: oklch(0.8 0.2 320);
  --chart-2: oklch(0.55 0.25 300);
  --chart-3: oklch(0.45 0.3 305);
  --chart-4: oklch(0.6 0.15 200);
  --chart-5: oklch(0.7 0.18 150);
}
```

**@theme inline block:**
Map ALL variables to --color-* for Tailwind utilities:
```css
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}
```

**What to avoid:**
- Do NOT use hsl() wrappers (Tailwind v4 uses OKLCH directly)
- Do NOT keep the old glass-card or theme transition classes (Phase 12 will handle effects)
- Do NOT use @plugin 'tailwindcss-animate' (use @import "tw-animate-css" instead)
  </action>
  <verify>
- npm run build succeeds
- No CSS parsing errors
- globals.css contains @theme inline block
- .dark class has all Proximab OKLCH colors
  </verify>
  <done>
- globals.css fully replaced with shadcn/ui v4 structure
- Proximab OKLCH color palette configured
- @theme inline maps all variables to Tailwind utilities
- Light theme defaults present for completeness
  </done>
</task>

<task type="auto">
  <name>Task 3: Update ThemeProvider for shadcn/ui pattern</name>
  <files>src/components/theme-provider.tsx, src/app/layout.tsx</files>
  <action>
1. Create src/components/theme-provider.tsx following shadcn/ui pattern:
```tsx
"use client"

import * as React from "react"
import { ThemeProvider as NextThemesProvider } from "next-themes"

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}
```

2. Update src/app/layout.tsx to use the new ThemeProvider:
   - Import ThemeProvider from "@/components/theme-provider"
   - Add suppressHydrationWarning to html tag
   - Configure ThemeProvider with:
     - attribute="class"
     - defaultTheme="dark"
     - enableSystem
     - disableTransitionOnChange

3. Remove the old ThemeToggle component import from layout if it's causing issues (keep the file for now, Phase 12 will rebuild it)

**What to avoid:**
- Do NOT set defaultTheme="system" (causes light flash on dark-preference users)
- Do NOT remove suppressHydrationWarning (needed for next-themes SSR)
  </action>
  <verify>
- npm run build succeeds
- src/components/theme-provider.tsx exists
- layout.tsx imports and uses ThemeProvider correctly
- html tag has suppressHydrationWarning
  </verify>
  <done>
- ThemeProvider created with shadcn/ui pattern
- layout.tsx updated with proper configuration
- defaultTheme="dark" prevents light flash
- Build passes without errors
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] components.json exists with correct configuration
- [ ] src/lib/utils.ts has cn() helper
- [ ] globals.css has @theme inline block with all color mappings
- [ ] .dark class uses Proximab OKLCH colors
- [ ] ThemeProvider configured with defaultTheme="dark"
- [ ] No TypeScript errors
</verification>

<success_criteria>
- shadcn/ui initialized and configured for Tailwind v4
- Proximab dark theme colors defined in OKLCH format
- @theme inline maps all CSS variables to Tailwind utilities
- ThemeProvider ready with dark theme default
- All dependencies installed (tw-animate-css, clsx, tailwind-merge, cva)
- Build passes, ready for component installation in Plan 2
</success_criteria>

<output>
After completion, create `.planning/phases/11-shadcn-ui-setup/11-01-SUMMARY.md`:

# Phase 11 Plan 1: shadcn/ui Installation & Theme Foundation Summary

**[One-liner: what was accomplished]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]
- [Key outcome 3]

## Files Created/Modified

- `path/to/file` - Description
- `path/to/file` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 11-02-PLAN.md (Core Components & Typography)
</output>
