---
phase: 02-core-dashboard
plan: 01
type: execute
---

<objective>
Create the dashboard layout shell with tab-based navigation and overview page.

Purpose: Establish the core UI structure that all dashboard views will use - clean, minimal layout with tab navigation between Dashboard, Agents, Calls, and Settings.
Output: Working dashboard layout with navigation, overview page with placeholder sections for recent activity, agents summary, and credit balance.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-dashboard/02-CONTEXT.md

**Prior decisions affecting this phase:**
- Tailwind CSS v4 with CSS-first config (Phase 1)
- Middleware cookie-check only, full auth in route handlers (Phase 1)
- Auth utilities in src/lib/auth-guard.ts

**Design direction (from 02-CONTEXT.md):**
- Clean and minimal aesthetic - Linear/Stripe style
- Tab-based navigation (Dashboard, Agents, Calls, Settings)
- Focus on recent activity on overview
- Lots of white space, clear visual hierarchy

**Existing structure:**
@src/app/(dashboard)/layout.tsx
@src/lib/auth-guard.ts
@src/types/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create dashboard layout with tab navigation</name>
  <files>src/app/(dashboard)/layout.tsx, src/app/(dashboard)/dashboard/layout.tsx, src/components/dashboard/nav-tabs.tsx, src/components/dashboard/user-menu.tsx</files>
  <action>
    Create dashboard layout structure:

    1. Update src/app/(dashboard)/layout.tsx as the wrapper that:
       - Fetches current user via auth helper (server component)
       - Passes user data to child layouts
       - Has minimal styling (just ensures auth context)

    2. Create src/app/(dashboard)/dashboard/layout.tsx that contains:
       - Header with logo/brand and user menu (top right)
       - Tab navigation bar below header (Dashboard, Agents, Calls, Settings)
       - Main content area with padding
       - Clean white background, subtle borders

    3. Create src/components/dashboard/nav-tabs.tsx:
       - Horizontal tab bar component
       - Uses Next.js Link for navigation
       - Highlights active tab based on pathname
       - Tabs: Dashboard (/dashboard), Agents (/dashboard/agents), Calls (/dashboard/calls), Settings (/dashboard/settings)
       - Styling: subtle underline or background for active state

    4. Create src/components/dashboard/user-menu.tsx:
       - Shows user email/name
       - Dropdown with "Sign out" option
       - Simple styling, no complex dropdown library needed

    Use Tailwind classes. Keep styling minimal and clean - lots of white space, gray-50/100 for subtle backgrounds, gray-200 for borders.
  </action>
  <verify>npm run build succeeds, visiting /dashboard shows layout with tabs</verify>
  <done>Dashboard layout renders with header, tab navigation, and content area</done>
</task>

<task type="auto">
  <name>Task 2: Create dashboard overview page</name>
  <files>src/app/(dashboard)/dashboard/page.tsx, src/components/dashboard/stats-card.tsx, src/components/dashboard/recent-activity.tsx</files>
  <action>
    Create the main dashboard overview page:

    1. Create src/app/(dashboard)/dashboard/page.tsx:
       - Server component that fetches user data
       - Shows greeting with user name
       - Grid layout with stats cards and recent activity
       - For now, use placeholder/mock data (real data comes in later plans)

    2. Create src/components/dashboard/stats-card.tsx:
       - Reusable card component for stats display
       - Props: title, value, subtitle (optional)
       - Clean card styling with subtle shadow

    3. Create src/components/dashboard/recent-activity.tsx:
       - List component for recent calls/activity
       - For now, show "No recent activity" empty state
       - Prepare structure for when real call data exists

    Page layout:
    - Top: "Welcome back, {name}" heading
    - Stats row: Credit Balance, Active Agents, Calls This Month (all placeholder values)
    - Below: Recent Activity section (empty state for now)

    Keep it simple. This is the overview - detailed views come in other pages.
  </action>
  <verify>npm run build succeeds, /dashboard shows overview with stats cards</verify>
  <done>Dashboard overview renders with stats cards and activity section</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Dashboard layout with tab navigation and overview page</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000/dashboard (you'll need to be logged in)
    3. Check layout:
       - Header visible with user menu (top right)
       - Tab navigation shows: Dashboard, Agents, Calls, Settings
       - Dashboard tab is highlighted/active
    4. Check overview content:
       - Greeting with user name visible
       - Stats cards showing (Credit Balance, Active Agents, Calls)
       - Recent activity section (empty state)
    5. Check styling:
       - Clean, minimal aesthetic
       - Good use of white space
       - No cluttered elements
    6. Click other tabs - they should navigate (pages may be 404 for now, that's expected)
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npx tsc --noEmit` passes
- [ ] Dashboard layout renders at /dashboard
- [ ] Tab navigation works and highlights active tab
- [ ] Overview page shows stats cards and activity section
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Dashboard has clean, minimal layout matching design direction
- Tab navigation functional
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-dashboard/02-01-SUMMARY.md`:

# Phase 02-01: Dashboard Layout & Navigation Summary

**[Substantive one-liner]**

## Accomplishments
- [Key outcomes]

## Files Created/Modified
- [File list with descriptions]

## Decisions Made
[Key decisions and rationale, or "None"]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Step
Ready for 02-02-PLAN.md (Agent Management UI)
</output>
